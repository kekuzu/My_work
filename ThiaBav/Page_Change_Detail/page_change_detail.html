<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LINEOA MAIN :: ROULETTE</title>
    <link rel="stylesheet" href="https://bootswatch.com/5/lumen/bootstrap.css%22%3E">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://bootswatch.com/_vendor/font-awesome/css/font-awesome.min.css%22%3E">
    <link rel="stylesheet" href="https://bootswatch.com/_vendor/prismjs/themes/prism-okaidia.css%22%3E">
    <script src="https://unpkg.com/vconsole/dist/vconsole.min.js%22%3E"></script>
    <script src="https://bootswatch.com/_vendor/jquery/dist/jquery.min.js%22%3E"></script>
    <script>
        // VConsole will be exported to window.VConsole by default.
        var vConsole = new window.VConsole();
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js%22%3E</script>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js%22%3E"></script>
    <script src="https://unpkg.com/html5-qrcode%22%3E"></script>
    <link rel="stylesheet" href="/javascript-winwheel-2.7.0/examples/basic_code_wheel/main.css" type="text/css"/>
    <script type="text/javascript" src="/javascript-winwheel-2.7.0/Winwheel.js"></script>
    <script src="/javascript-winwheel-2.7.0/examples/basic_code_wheel/TweenMax.min.js"></script>
    <!--- icon-->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.5/css/unicons.css">
    <link rel="stylesheet" href="./page_change.css">
    </head>
    <body>
        <main role="main" class="container">
            <div class="d-flex align-items-center p-3 text-white-50 bg-green box-shadow">
                <img class="mr-2" src="image/logo.png" alt="" width="40" height="40">
                <div class="lh-100">
                    <h4 class="mb-0 text-white lh-100">ระบบร้านค้า</h4>
                </div>
            </div>
            <div class="my-1 p-2 bg-white box-shadow changePage">
                <div class="d-flex change-text-teg">
                    <a href="#" class="menu-teg">เมนู </a>
                    <span class="text-muted"><h5> / แลกของรางวัล</h5></span>
                </div>
                <div class="pt-1 store">
                    <img alt="32x32" class="profile-name" style="width: 30px; height: 30px;" src="/image/store.png" data-holder-rendered="true">
                    <div class="profile-name">
                        <h4 class="text-bold">ร้านค้า :</h4> 
                    </div>
                    <div class="namestore">
                        <h4 class="text-green">ShopNiyom Thai</h4>
                    </div>
                </div>
                <div class="pt-1 point" >
                    <img alt="32x32" class="profile-point" src="/image/ccoin.png" data-holder-rendered="true" style="width: 30px; height: 30px;">
                    <div class="profile-name">
                        <h4 class="text-bold textpoint">แต้ม :</h4> 
                    </div>
                    <div class="namestore">
                        <h4 class="text-green" style="color:#FFA200;;">แต้ม</h4> 
                    </div>
                    <div class="d-flex btn-refresh">
                        <div class="btn-btn">
                            <input type="button" value="รีเฟรช"></input>
                        </div>
                        <div class="st-img">
                            <div class="image">
                                <img src="/image/refresh.png">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="my-1 p-2 bg-white box-shadow changeHead">
                <div class="d-flex box-shadow search-bar">
                    <i class="uil uil-search"></i>
                    <input type="search" placeholder="ค้นหารางวัล">
                    <div class="btn-search">
                        <div class="search-btn-txt">
                            <p>ค้นหา</p>
                            <i class="uil uil-search"></i>
                        </div>
                    </div>
                </div>
                <div class="changeHead-reward">
                    <div class="reward-list">
                        <!-------------------------------------LIST ITEM REWARDS------------------------------------>
                        <div class="item-rewards">
                            <div class="img-item-rewards">
                                <img class="item-img" src="/image/NYTTShirt.png" >
                            </div>
                            <div class="text-item-rewards">
                                <h5>เสื้อนิยมไทย</h5>
                                <small class="text-muted">ใช้แต้ม 1,000 แต้ม</small>
                                <p class="text-item">จำนวนที่รับ</p>
                            </div>
                            <div class="quantity-item">
                                <div class="input-group">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-green btn-number"  data-type="minus" data-field="quant[2]">
                                        <span class="glyphicon glyphicon-minus">-</span>
                                        </button>
                                    </span>
                                    <input type="text" name="quant[2]" class="form-control input-number" value="0" min="1" max="10">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-green btn-number" data-type="plus" data-field="quant[2]">
                                            <span class="glyphicon glyphicon-plus">+</span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                            <div class="">
                                <input class="get-rewards" type="button" value="แลกของรางวัล"></input>
                            </div>
                        </div>
                        <!-------------------------------------END LIST ITEM REWARDS------------------------------------>
                        <!-------------------------------------LIST ITEM REWARDS------------------------------------>
                        <div class="item-rewards">
                            <div class="img-item-rewards">
                                <img class="item-img" src="/image/NYTTShirt.png" >
                            </div>
                            <div class="text-item-rewards">
                                <h5>เสื้อนิยมไทย</h5>
                                <small class="text-muted">ใช้แต้ม 1,000 แต้ม</small>
                                <p class="text-item">จำนวนที่รับ</p>
                            </div>
                            <div class="quantity-item">
                                <div class="input-group">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-green btn-number"  data-type="minus" data-field="quant[2]">
                                        <span class="glyphicon glyphicon-minus">-</span>
                                        </button>
                                    </span>
                                    <input type="text" name="quant[2]" class="form-control input-number" value="0" min="1" max="10">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-green btn-number" data-type="plus" data-field="quant[2]">
                                            <span class="glyphicon glyphicon-plus">+</span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                            <div class="">
                                <input class="get-rewards" type="button" value="แลกของรางวัล"></input>
                            </div>
                        </div>
                        <!-------------------------------------END LIST ITEM REWARDS------------------------------------>
           
                    </div>
                    
                </div>
            
            </div>
        </main>
        <script>
            $('.btn-number').click(function(e){
            e.preventDefault();
            
            fieldName = $(this).attr('data-field');
            type      = $(this).attr('data-type');
            var input = $("input[name='"+fieldName+"']");
            var currentVal = parseInt(input.val());
            if (!isNaN(currentVal)) {
                if(type == 'minus') {
                    
                    if(currentVal > input.attr('min')) {
                        input.val(currentVal - 1).change();
                    } 
                    if(parseInt(input.val()) == input.attr('min')) {
                        $(this).attr('disabled', true);
                    }

                } else if(type == 'plus') {

                    if(currentVal < input.attr('max')) {
                        input.val(currentVal + 1).change();
                    }
                    if(parseInt(input.val()) == input.attr('max')) {
                        $(this).attr('disabled', true);
                    }

                }
            } else {
                input.val(0);
            }
        });
        $('.input-number').focusin(function(){
        $(this).data('oldValue', $(this).val());
        });
        $('.input-number').change(function() {
            
            minValue =  parseInt($(this).attr('min'));
            maxValue =  parseInt($(this).attr('max'));
            valueCurrent = parseInt($(this).val());
            
            name = $(this).attr('name');
            if(valueCurrent >= minValue) {
                $(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr('disabled')
            } else {
                alert('Sorry, the minimum value was reached');
                $(this).val($(this).data('oldValue'));
            }
            if(valueCurrent <= maxValue) {
                $(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr('disabled')
            } else {
                alert('Sorry, the maximum value was reached');
                $(this).val($(this).data('oldValue'));
            }
            
            
        });
        $(".input-number").keydown(function (e) {
                // Allow: backspace, delete, tab, escape, enter and .
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||
                    // Allow: Ctrl+A
                    (e.keyCode == 65 && e.ctrlKey === true) || 
                    // Allow: home, end, left, right
                    (e.keyCode >= 35 && e.keyCode <= 39)) {
                        // let it happen, don't do anything
                        return;
                }
                // Ensure that it is a number and stop the keypress
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });
        </script>
    </body>
</html>